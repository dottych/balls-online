let a=document.getElementById("canvas"),c=a.getContext("2d"),[f,g,h,k,n]=[document.getElementById("nick"),document.getElementById("desc"),document.getElementById("colors"),document.getElementById("outline"),document.getElementById("snap")];n.addEventListener("click",d=>{d.preventDefault();d=a.toDataURL("image/png");let b=document.createElement("a");b.href=d;b.download=`${p.replace(/[^A-Za-z0-9_]+$/,"").replaceAll(" ","").substr(0,20)}${Math.floor(performance.now())}.png`;b.click();b.remove()});
var p="Nickname",q="Description",r=!1,t=(d,b,l,e=16)=>{c.font=`${"bold "}${""}${e}px Calibri`;c.fillStyle="#FFFFFF";e=c.fillStyle;let m="FF";void 0!==e[6]&&void 0!==e[7]&&(m=e[6]+e[7]);c.fillStyle=`#000000${m}`;c.fillText(d,b+1,l+1);c.fillStyle="#FFFFFF";c.fillText(d,b,l)},u={red:"#FF6969",green:"#69AA69",blue:"#3369FF",cyan:"#69FFFF",lime:"#69FF69",yellow:"#FFFF69",orange:"#FFAA69",purple:"#6969FF",pink:"#FF69FF",white:"#FFFFFF",black:"#000000",gray:"#AAAAAA",brown:"#AA6969",maroon:"#AA0000",indigo:"#0000AA",forest:"#006900"},v=()=>{p=f.value;q=g.value;
r=k.checked;c.clearRect(0,0,a.width,a.height);c.fillStyle="gray";c.fillRect(0,0,a.width,a.height);r&&(c.beginPath(),c.fillStyle="#AAAAAA",c.arc(200,83,9,0,2*Math.PI),c.fill(),c.closePath());c.beginPath();c.fillStyle=u[h.value];c.arc(200,83,8,0,2*Math.PI);c.fill();c.closePath();c.textAlign="left";t(atob("QmFsbHMgUmVuZGVy"),5,10,8);c.textAlign="center";t(p,200,59,16);t(q,200,130,16);requestAnimationFrame(v)};requestAnimationFrame(v);
